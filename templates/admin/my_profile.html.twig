{% extends 'admin/base.html.twig' %}

{% block mainadmin %}

{% for label, messages in app.flashes %}
    {% for message in messages %}
        <div class="alert alert-{{label}}" role="alert">
            {{message}}
        </div>
    {% endfor %}
{% endfor %}
<h2>Mój profil<small><a onclick="return confirm('Czy jesteś pewny?');" href="{{ path('delete_account') }}"> usuń konto</a></small></h2>

{# <form class="mt-5" method="POST" action="#"> #}
{{ form_start(form,{'attr': {'novalidate':'novalidate',
        'class':'needs-validation'}}) }}
    <div class="form-group">
        <label for="user_name">Imię</label>
        {# <input required type="text" class="form-control is-invalid" id="name" placeholder="Your name"> #}

        {# need to find out how to add more than 1 classes to form_widget() and insert is_valid #}

        {{ form_widget(form.name, {'attr':{'class': 'form-control'}}  ) }}
        <div class="invalid-feedback">
            Proszę podaj imię.
            {{ form_errors(form.name) }}
        </div>
    </div>
    <div class="form-group">
        <label for="user_email">Email address</label>
        {# <input required type="email" class="form-control is-invalid" id="email" placeholder="Enter email"> #}
        {{ form_widget(form.email, {'attr':{'class': 'form-control' }}) }}
        <div class="invalid-feedback">
            Proszę podaj email.
            {{ form_errors(form.email) }}
        </div>
    </div>
    <div class="form-group">
        <label for="user_password_first">Hasło</label>
        {# <input required type="password" class="form-control is-invalid" id="password" placeholder="Password"> #}
        {{ form_widget(form.password.first, {'attr':{'class': 'form-control' }}) }}
        <div class="invalid-feedback">
            Proszę wpisać hasło.
            {{ form_errors(form.password.first) }}
        </div>
    </div>
    <div class="form-group">
        <label for="user_password_second">Potwierdź hasło</label>
        {# <input required type="password" class="form-control is-invalid" id="password_confirmation" placeholder="Confirm password"> #}
        {{ form_widget(form.password.second, {'attr':{'class': 'form-control' }}) }}
        <div class="invalid-feedback">
            Proszę o wpisanie tego samego hasła co wyżej.
             {{ form_errors(form.password.second) }}
        </div>
    </div>
    <button type="submit" class="btn btn-primary">Save</button>
{{ form_end(form) }}
 
{% endblock %}